<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      생성자 함수 (prototype function)를 이용하여 객체 생성 및 사용하기
    </title>
    <script>
      //prototype 만들기
      function Account(owner, accNum, balance) {
        //객체에 속성을 부여
        this.owner = owner; //this.owner는 멤버변수, owner는 지역변수
        this.accNum = accNum;
        this.balance = balance;
        this.bankName = "우리은행";
        this.name = "직장인 비과세 예금";

        //객체에 기능 부여
        this.inquiry = function () {
          //잔액조회
          return this.balance;
        };

        this.deposit = function (money) {
          //예금하기
          this.balance += money;
        };

        this.withDraw = function (money) {
          //인출
          if (this.balance >= money) {
            this.balance -= money;
          } else {
            window.alert("잔액부족");
          }
        };
      }

      let acc1 = new Account("홍길동", "1111-023-04-567899", 500);
      console.log(acc1);
      document.write(`예금주: ${acc1.owner}<br/>`);
      document.write(`은행명: ${acc1.bankName}<br/>`);
      document.write(`잔액: ${acc1.balance}<br/>`);

      acc1.deposit(2000000); //예금

      document.write(`잔액: ${acc1.inquiry()}<br/>`); //잔액 조회

      acc1.withDraw(1000000); //출금
      document.write(`잔액: ${acc1.inquiry()}<br/>`); //잔액 조회

      acc1.withDraw(50000); //출금
      document.write(`잔액: ${acc1.inquiry()}<br/>`); //잔액 조회

      //------------------------------------

      let acc2 = new Account("둘리", "000444-7987-97656", 0);
      console.log(acc2);
      acc2.deposit(1000000); //예금
      document.write(`잔액: ${acc2.inquiry()}<br/>`); //잔액 조회
    </script>
  </head>
  <body></body>
</html>
